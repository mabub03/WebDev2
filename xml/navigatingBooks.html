<!DOCTYPE html>
<html>
  <head>
    <title>Moving Through Our Library</title>
  </head>
  <body>
    <div id="showBook"></div>
    <br />
    <input type="button" onclick="previous()" value="Previous" />
    <input type="button" onclick="next()" value="Next" />

    <script>
      var i = 0;
      var xml;
      getBookData(i);

      function getBookData(i) {
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            displayBookData(this, i);
          }
        };
        xmlhttp.open("GET", "books.xml", true);
        xmlhttp.send();
      }

      function displayBookData(xmlData, i) {
        var xmlDoc = xmlData.responseXML;
        xml = xmlDoc.getElementsByTagName("book");
        document.getElementById("showBook").innerHTML =
          "Author: " +
          xml[i].getElementsByTagName("author")[0].childNodes[0].nodeValue +
          "<br />Title: " +
          xml[i].getElementsByTagName("title")[0].childNodes[0].nodeValue +
          "<br />Price: $" +
          xml[i].getElementsByTagName("price")[0].childNodes[0].nodeValue;
      }

      function next() {
        if (i < xml.length - 1) {
          i++;
          getBookData(i);
        }
      }

      function previous() {
        if (i > 0) {
          i--;
          getBookData(i);
        }
      }
    </script>
  </body>
</html>
